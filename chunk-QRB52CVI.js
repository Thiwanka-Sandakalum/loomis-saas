import{a as l}from"./chunk-GFU3UW6A.js";import{f as s}from"./chunk-XAZ3CRE3.js";import{P as a,V as r,_ as o,oa as i}from"./chunk-JKZ4R3JY.js";var T=class e{http=o(s);apiUrl=l.apiUrl;TENANT_STORAGE="loomis_tenant";currentTenant=i(this.loadTenant());createTenant(t){return this.http.post(`${this.apiUrl}/tenants`,t).pipe(a(n=>{this.setTenant(n.tenant)}))}setTenant(t){localStorage.setItem(this.TENANT_STORAGE,JSON.stringify(t)),this.currentTenant.set(t)}loadTenant(){let t=localStorage.getItem(this.TENANT_STORAGE);return t?JSON.parse(t):null}clearTenant(){localStorage.removeItem(this.TENANT_STORAGE),this.currentTenant.set(null)}isOnboardingComplete(){return!!this.currentTenant()?.isOnboardingComplete}getApiKey(){return this.currentTenant()?.apiKey||null}logout(){this.clearTenant()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})};export{T as a};
